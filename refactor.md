Добавить скобочек ()

Посимвольное считывание строки вместо getline

Вынести обработку кавычек, потом cat(s1, s2)

Обьеденить функции 

Отдельная функция для проверки размеров буффера

Использовать assert вместо perror

массив токенов